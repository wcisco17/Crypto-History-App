function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter)}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest()}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread()}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}import regeneratorRuntime from"regenerator-runtime";import{loadDynamoDBClient}from'@crypto-aws/client';import{createCryptoItem}from'./create-crypto.js';import{createCommands,DynamoActionsConfiguration,TypesOfWrite}from'./inquirer-util.js';import{convertToUnixEpoch}from'@crypto-api/db/src/util.js';import{createTextData}from'./create-text-data.js';_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var commandActions,client,initCommands,writeTypes,typesOfWrite,pickCoins,coinName,coinName1,coinApi,coinCompare,amount,date,hour,hourIdx,min,endMin,time,minText,hourText,currentTime,convertTime,text_data;return regeneratorRuntime.wrap(function _callee$(_ctx){while(1)switch(_ctx.prev=_ctx.next){case 0:commandActions=Object.values(DynamoActionsConfiguration);_ctx.next=3;return loadDynamoDBClient();case 3:client=_ctx.sent;_ctx.next=6;return createCommands({type:'list',message:'Which [DynamoDB] commands should I excecute?',actions:commandActions});case 6:initCommands=_ctx.sent;if(!initCommands.includes('write')){_ctx.next=75;break}writeTypes=Object.values(TypesOfWrite);_ctx.next=11;return createCommands({type:'list',message:'Write New Coin OR Update Timestamp Key?',actions:writeTypes});case 11:typesOfWrite=_ctx.sent;pickCoins=['bitcoin','xrp','dogecoin','ethereum','bch','polygon','tether'];if(!typesOfWrite.includes('new-coin')){_ctx.next=18;break}_ctx.next=16;return createCommands({type:'list',message:'For which Coin?',actions:pickCoins});case 16:coinName=_ctx.sent;return _ctx.abrupt("return",createCryptoItem(client,coinName));case 18:if(!typesOfWrite.includes('time-stamp')){_ctx.next=75;break}_ctx.next=21;return createCommands({type:'list',message:'For which Coin?',actions:_toConsumableArray(pickCoins)});case 21:coinName1=_ctx.sent;_ctx.t0=coinName1;_ctx.next=_ctx.t0==='bitcoin'?27:_ctx.t0==='xrp'?30:_ctx.t0==='dogecoin'?33:_ctx.t0==='ethereum'?36:_ctx.t0==='bch'?39:_ctx.t0==='polygon'?42:45;break;case 27:coinApi='BITSTAMP_SPOT_BTC_USD';coinCompare='BTC';return _ctx.abrupt("break",45);case 30:coinApi='BITSTAMP_SPOT_XRP_USD';coinCompare='XRP';return _ctx.abrupt("break",45);case 33:coinApi='BITSTAMP_SPOT_DOGE_USD';coinCompare='DOGE';return _ctx.abrupt("break",45);case 36:coinApi='BITSTAMP_SPOT_ETH_USD';coinCompare='ETH';return _ctx.abrupt("break",45);case 39:coinApi='BITSTAMP_SPOT_BCH_USD';coinCompare='BCH';return _ctx.abrupt("break",45);case 42:coinApi='BITSTAMP_SPOT_POLYGON_USD';coinCompare='POLYGON';return _ctx.abrupt("break",45);case 45:_ctx.next=47;return createCommands({type:'input',message:'How many would you like to PUT? [condition: every number is added per hour]'});case 47:amount=_ctx.sent;_ctx.next=50;return createCommands({type:'input',message:'Which date would you like to PULL your data from? [REQUIRED FORMAT: yyyy-MM-ddTHH:mm:ss.fffffff]'});case 50:date=_ctx.sent;_ctx.next=53;return createCommands({type:'input',message:'Which hour should we start from?'});case 53:hour=_ctx.sent;hourIdx=0;amount=Number(amount);min=10;endMin=60;case 58:if(!(hourIdx<amount&&min<endMin)){_ctx.next=75;break};currentTime=Number(hour)+hourIdx;if(currentTime<10)hourText="0".concat(currentTime);else if(currentTime>=10)hourText="".concat(currentTime);if(min<10)minText="0".concat(min);else if(min>=10)minText="".concat(min);time="".concat(date,"T").concat(hourText,":").concat(minText,":00");convertTime=convertToUnixEpoch(time);_ctx.next=69;return createTextData(client,coinName1,amount.toString(),date,hour,convertTime,coinCompare);case 69:text_data=_ctx.sent;Promise.all([text_data]).then(function(param){var _param=_slicedToArray(param,1),data=_param[0];console.log("".concat(hourIdx," Successfully added both [numericalResult & testResult] with dates: ").concat(time))}).catch(console.log);min++;if(min==endMin){min=0;hourIdx++}_ctx.next=58;break;case 75:case"end":return _ctx.stop()}},_callee)}))()